<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TypeScript 3.0 | TypeScript Handbook（中文版）</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="《TypeScript Handbook》（中文版）TypeScript使用手册">
    <link rel="preload" href="/typescript/assets/css/0.styles.b79b352c.css" as="style"><link rel="preload" href="/typescript/assets/js/app.0e06d88a.js" as="script"><link rel="preload" href="/typescript/assets/js/2.2c62d7e6.js" as="script"><link rel="preload" href="/typescript/assets/js/103.71daab4d.js" as="script"><link rel="prefetch" href="/typescript/assets/js/10.d6e8d454.js"><link rel="prefetch" href="/typescript/assets/js/100.329f4650.js"><link rel="prefetch" href="/typescript/assets/js/101.2ac7a921.js"><link rel="prefetch" href="/typescript/assets/js/102.09822bc3.js"><link rel="prefetch" href="/typescript/assets/js/104.3ebe007a.js"><link rel="prefetch" href="/typescript/assets/js/105.86676a1f.js"><link rel="prefetch" href="/typescript/assets/js/106.52689b48.js"><link rel="prefetch" href="/typescript/assets/js/107.be09c369.js"><link rel="prefetch" href="/typescript/assets/js/108.630af0de.js"><link rel="prefetch" href="/typescript/assets/js/109.00f4b774.js"><link rel="prefetch" href="/typescript/assets/js/11.627db9ad.js"><link rel="prefetch" href="/typescript/assets/js/110.d3291ae0.js"><link rel="prefetch" href="/typescript/assets/js/111.1e5fa25d.js"><link rel="prefetch" href="/typescript/assets/js/112.6bc6525b.js"><link rel="prefetch" href="/typescript/assets/js/113.44ce700d.js"><link rel="prefetch" href="/typescript/assets/js/114.ecd730c9.js"><link rel="prefetch" href="/typescript/assets/js/115.ecd4d4b4.js"><link rel="prefetch" href="/typescript/assets/js/116.4025e3f8.js"><link rel="prefetch" href="/typescript/assets/js/117.4c77c608.js"><link rel="prefetch" href="/typescript/assets/js/118.df8614a5.js"><link rel="prefetch" href="/typescript/assets/js/119.a63268d6.js"><link rel="prefetch" href="/typescript/assets/js/12.8986ec8b.js"><link rel="prefetch" href="/typescript/assets/js/120.aaab5378.js"><link rel="prefetch" href="/typescript/assets/js/121.7e1cfd4e.js"><link rel="prefetch" href="/typescript/assets/js/122.749c0380.js"><link rel="prefetch" href="/typescript/assets/js/123.d233ea5d.js"><link rel="prefetch" href="/typescript/assets/js/124.6623e08c.js"><link rel="prefetch" href="/typescript/assets/js/125.a3177cd8.js"><link rel="prefetch" href="/typescript/assets/js/126.db6b0b70.js"><link rel="prefetch" href="/typescript/assets/js/127.558cd032.js"><link rel="prefetch" href="/typescript/assets/js/128.41834463.js"><link rel="prefetch" href="/typescript/assets/js/129.7506d3ad.js"><link rel="prefetch" href="/typescript/assets/js/13.1ca2ea79.js"><link rel="prefetch" href="/typescript/assets/js/130.30275c7f.js"><link rel="prefetch" href="/typescript/assets/js/131.dbb79c24.js"><link rel="prefetch" href="/typescript/assets/js/132.8e278c87.js"><link rel="prefetch" href="/typescript/assets/js/133.ea147999.js"><link rel="prefetch" href="/typescript/assets/js/134.8915eb1c.js"><link rel="prefetch" href="/typescript/assets/js/135.b27a24cb.js"><link rel="prefetch" href="/typescript/assets/js/136.ef81f91c.js"><link rel="prefetch" href="/typescript/assets/js/137.036a2055.js"><link rel="prefetch" href="/typescript/assets/js/138.98675367.js"><link rel="prefetch" href="/typescript/assets/js/14.37c7f492.js"><link rel="prefetch" href="/typescript/assets/js/15.38f4f28c.js"><link rel="prefetch" href="/typescript/assets/js/16.a64c264e.js"><link rel="prefetch" href="/typescript/assets/js/17.91d8ea8f.js"><link rel="prefetch" href="/typescript/assets/js/18.51ac87b7.js"><link rel="prefetch" href="/typescript/assets/js/19.91dbdd1e.js"><link rel="prefetch" href="/typescript/assets/js/20.6d2e4055.js"><link rel="prefetch" href="/typescript/assets/js/21.9682215b.js"><link rel="prefetch" href="/typescript/assets/js/22.fd522303.js"><link rel="prefetch" href="/typescript/assets/js/23.e7049527.js"><link rel="prefetch" href="/typescript/assets/js/24.05f4c52d.js"><link rel="prefetch" href="/typescript/assets/js/25.eb553563.js"><link rel="prefetch" href="/typescript/assets/js/26.752cb5d4.js"><link rel="prefetch" href="/typescript/assets/js/27.d864004e.js"><link rel="prefetch" href="/typescript/assets/js/28.cbda47ca.js"><link rel="prefetch" href="/typescript/assets/js/29.84ea3529.js"><link rel="prefetch" href="/typescript/assets/js/3.8bda1f40.js"><link rel="prefetch" href="/typescript/assets/js/30.7afc7e45.js"><link rel="prefetch" href="/typescript/assets/js/31.dd922087.js"><link rel="prefetch" href="/typescript/assets/js/32.1d7d8ad3.js"><link rel="prefetch" href="/typescript/assets/js/33.989f1a5d.js"><link rel="prefetch" href="/typescript/assets/js/34.636c7746.js"><link rel="prefetch" href="/typescript/assets/js/35.4a3a33da.js"><link rel="prefetch" href="/typescript/assets/js/36.261ae21c.js"><link rel="prefetch" href="/typescript/assets/js/37.1a0b0b21.js"><link rel="prefetch" href="/typescript/assets/js/38.a94e2afa.js"><link rel="prefetch" href="/typescript/assets/js/39.63df6ee0.js"><link rel="prefetch" href="/typescript/assets/js/4.4c9829e0.js"><link rel="prefetch" href="/typescript/assets/js/40.b3da223e.js"><link rel="prefetch" href="/typescript/assets/js/41.ffb1bfe2.js"><link rel="prefetch" href="/typescript/assets/js/42.2fb4202a.js"><link rel="prefetch" href="/typescript/assets/js/43.81f36f39.js"><link rel="prefetch" href="/typescript/assets/js/44.0cc83589.js"><link rel="prefetch" href="/typescript/assets/js/45.896194f5.js"><link rel="prefetch" href="/typescript/assets/js/46.6ebccb0e.js"><link rel="prefetch" href="/typescript/assets/js/47.02728ef6.js"><link rel="prefetch" href="/typescript/assets/js/48.a87676e7.js"><link rel="prefetch" href="/typescript/assets/js/49.7bb9cd68.js"><link rel="prefetch" href="/typescript/assets/js/5.78374d20.js"><link rel="prefetch" href="/typescript/assets/js/50.2791a9aa.js"><link rel="prefetch" href="/typescript/assets/js/51.4e54a96f.js"><link rel="prefetch" href="/typescript/assets/js/52.2fa6dca5.js"><link rel="prefetch" href="/typescript/assets/js/53.0fb7d1cf.js"><link rel="prefetch" href="/typescript/assets/js/54.577fd1a9.js"><link rel="prefetch" href="/typescript/assets/js/55.6919b9ac.js"><link rel="prefetch" href="/typescript/assets/js/56.14b87581.js"><link rel="prefetch" href="/typescript/assets/js/57.f50d71ab.js"><link rel="prefetch" href="/typescript/assets/js/58.2569019f.js"><link rel="prefetch" href="/typescript/assets/js/59.b8f7929d.js"><link rel="prefetch" href="/typescript/assets/js/6.71a548bb.js"><link rel="prefetch" href="/typescript/assets/js/60.95ac14ec.js"><link rel="prefetch" href="/typescript/assets/js/61.2d80fd78.js"><link rel="prefetch" href="/typescript/assets/js/62.0b89c246.js"><link rel="prefetch" href="/typescript/assets/js/63.a1c284f7.js"><link rel="prefetch" href="/typescript/assets/js/64.2b780694.js"><link rel="prefetch" href="/typescript/assets/js/65.ee4cb48e.js"><link rel="prefetch" href="/typescript/assets/js/66.1ef33466.js"><link rel="prefetch" href="/typescript/assets/js/67.efa35d32.js"><link rel="prefetch" href="/typescript/assets/js/68.1bf6b7b8.js"><link rel="prefetch" href="/typescript/assets/js/69.0c15538d.js"><link rel="prefetch" href="/typescript/assets/js/7.8fb4c5d3.js"><link rel="prefetch" href="/typescript/assets/js/70.0a3b2c0b.js"><link rel="prefetch" href="/typescript/assets/js/71.37e8ddb8.js"><link rel="prefetch" href="/typescript/assets/js/72.1ce373d6.js"><link rel="prefetch" href="/typescript/assets/js/73.5019730b.js"><link rel="prefetch" href="/typescript/assets/js/74.a7460721.js"><link rel="prefetch" href="/typescript/assets/js/75.f1032ef6.js"><link rel="prefetch" href="/typescript/assets/js/76.dfb1027c.js"><link rel="prefetch" href="/typescript/assets/js/77.611683ad.js"><link rel="prefetch" href="/typescript/assets/js/78.dac04a6d.js"><link rel="prefetch" href="/typescript/assets/js/79.7f256ea5.js"><link rel="prefetch" href="/typescript/assets/js/8.5ab30204.js"><link rel="prefetch" href="/typescript/assets/js/80.23d2e7fd.js"><link rel="prefetch" href="/typescript/assets/js/81.cbbd67b9.js"><link rel="prefetch" href="/typescript/assets/js/82.1a05152f.js"><link rel="prefetch" href="/typescript/assets/js/83.9de9f221.js"><link rel="prefetch" href="/typescript/assets/js/84.7446dedf.js"><link rel="prefetch" href="/typescript/assets/js/85.3e267e83.js"><link rel="prefetch" href="/typescript/assets/js/86.1c8b02c0.js"><link rel="prefetch" href="/typescript/assets/js/87.bfe359fd.js"><link rel="prefetch" href="/typescript/assets/js/88.8f8614c1.js"><link rel="prefetch" href="/typescript/assets/js/89.95dcadb3.js"><link rel="prefetch" href="/typescript/assets/js/9.678ed93c.js"><link rel="prefetch" href="/typescript/assets/js/90.f4bf22c3.js"><link rel="prefetch" href="/typescript/assets/js/91.08426091.js"><link rel="prefetch" href="/typescript/assets/js/92.2f541757.js"><link rel="prefetch" href="/typescript/assets/js/93.affbb7e4.js"><link rel="prefetch" href="/typescript/assets/js/94.6d95e042.js"><link rel="prefetch" href="/typescript/assets/js/95.eab0c9cd.js"><link rel="prefetch" href="/typescript/assets/js/96.878b7a92.js"><link rel="prefetch" href="/typescript/assets/js/97.bbf57fa2.js"><link rel="prefetch" href="/typescript/assets/js/98.d8fa6bed.js"><link rel="prefetch" href="/typescript/assets/js/99.b7f86839.js">
    <link rel="stylesheet" href="/typescript/assets/css/0.styles.b79b352c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/typescript/" class="home-link router-link-active"><!----> <span class="site-name">TypeScript Handbook（中文版）</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/zhongsp/TypeScript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="新增功能" class="dropdown-title"><span class="title">新增功能</span> <span class="arrow down"></span></button> <button type="button" aria-label="新增功能" class="mobile-dropdown-title"><span class="title">新增功能</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-4.0.html" class="nav-link">
  TypeScript 4.0
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.9.html" class="nav-link">
  TypeScript 3.9
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.8.html" class="nav-link">
  TypeScript 3.8
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.7.html" class="nav-link">
  TypeScript 3.7
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.6.html" class="nav-link">
  TypeScript 3.6
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.5.html" class="nav-link">
  TypeScript 3.5
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.4.html" class="nav-link">
  TypeScript 3.4
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.3.html" class="nav-link">
  TypeScript 3.3
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.2.html" class="nav-link">
  TypeScript 3.2
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.1.html" class="nav-link">
  TypeScript 3.1
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.0.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  TypeScript 3.0
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.9.html" class="nav-link">
  TypeScript 2.9
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.8.html" class="nav-link">
  TypeScript 2.8
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.7.html" class="nav-link">
  TypeScript 2.7
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.6.html" class="nav-link">
  TypeScript 2.6
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.5.html" class="nav-link">
  TypeScript 2.5
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.4.html" class="nav-link">
  TypeScript 2.4
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.3.html" class="nav-link">
  TypeScript 2.3
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.2.html" class="nav-link">
  TypeScript 2.2
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.1.html" class="nav-link">
  TypeScript 2.1
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.0.html" class="nav-link">
  TypeScript 2.0
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-1.8.html" class="nav-link">
  TypeScript 1.8
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-1.7.html" class="nav-link">
  TypeScript 1.7
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-1.6.html" class="nav-link">
  TypeScript 1.6
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-1.5.html" class="nav-link">
  TypeScript 1.5
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-1.4.html" class="nav-link">
  TypeScript 1.4
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-1.3.html" class="nav-link">
  TypeScript 1.3
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-1.1.html" class="nav-link">
  TypeScript 1.1
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Breaking Changes" class="dropdown-title"><span class="title">Breaking Changes</span> <span class="arrow down"></span></button> <button type="button" aria-label="Breaking Changes" class="mobile-dropdown-title"><span class="title">Breaking Changes</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-3.6.html" class="nav-link">
  TypeScript 3.6
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-3.5.html" class="nav-link">
  TypeScript 3.5
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-3.4.html" class="nav-link">
  TypeScript 3.4
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-3.2.html" class="nav-link">
  TypeScript 3.2
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-3.1.html" class="nav-link">
  TypeScript 3.1
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-3.0.html" class="nav-link">
  TypeScript 3.0
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-2.9.html" class="nav-link">
  TypeScript 2.9
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-2.8.html" class="nav-link">
  TypeScript 2.8
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-2.7.html" class="nav-link">
  TypeScript 2.7
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-2.6.html" class="nav-link">
  TypeScript 2.6
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-2.4.html" class="nav-link">
  TypeScript 2.4
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-2.3.html" class="nav-link">
  TypeScript 2.3
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-2.2.html" class="nav-link">
  TypeScript 2.2
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-2.1.html" class="nav-link">
  TypeScript 2.1
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-2.0.html" class="nav-link">
  TypeScript 2.0
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-1.8.html" class="nav-link">
  TypeScript 1.8
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-1.7.html" class="nav-link">
  TypeScript 1.7
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-1.6.html" class="nav-link">
  TypeScript 1.6
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-1.5.html" class="nav-link">
  TypeScript 1.5
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-1.4.html" class="nav-link">
  TypeScript 1.4
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它" class="dropdown-title"><span class="title">其它</span> <span class="arrow down"></span></button> <button type="button" aria-label="其它" class="mobile-dropdown-title"><span class="title">其它</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.typescriptlang.org/docs/home.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TypeScript手册（英文版）
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TypeScript语言规范
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/zhongsp/TypeScript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="新增功能" class="dropdown-title"><span class="title">新增功能</span> <span class="arrow down"></span></button> <button type="button" aria-label="新增功能" class="mobile-dropdown-title"><span class="title">新增功能</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-4.0.html" class="nav-link">
  TypeScript 4.0
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.9.html" class="nav-link">
  TypeScript 3.9
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.8.html" class="nav-link">
  TypeScript 3.8
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.7.html" class="nav-link">
  TypeScript 3.7
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.6.html" class="nav-link">
  TypeScript 3.6
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.5.html" class="nav-link">
  TypeScript 3.5
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.4.html" class="nav-link">
  TypeScript 3.4
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.3.html" class="nav-link">
  TypeScript 3.3
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.2.html" class="nav-link">
  TypeScript 3.2
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.1.html" class="nav-link">
  TypeScript 3.1
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-3.0.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  TypeScript 3.0
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.9.html" class="nav-link">
  TypeScript 2.9
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.8.html" class="nav-link">
  TypeScript 2.8
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.7.html" class="nav-link">
  TypeScript 2.7
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.6.html" class="nav-link">
  TypeScript 2.6
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.5.html" class="nav-link">
  TypeScript 2.5
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.4.html" class="nav-link">
  TypeScript 2.4
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.3.html" class="nav-link">
  TypeScript 2.3
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.2.html" class="nav-link">
  TypeScript 2.2
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.1.html" class="nav-link">
  TypeScript 2.1
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-2.0.html" class="nav-link">
  TypeScript 2.0
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-1.8.html" class="nav-link">
  TypeScript 1.8
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-1.7.html" class="nav-link">
  TypeScript 1.7
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-1.6.html" class="nav-link">
  TypeScript 1.6
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-1.5.html" class="nav-link">
  TypeScript 1.5
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-1.4.html" class="nav-link">
  TypeScript 1.4
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-1.3.html" class="nav-link">
  TypeScript 1.3
</a></li><li class="dropdown-item"><!----> <a href="/typescript/release-notes/typescript-1.1.html" class="nav-link">
  TypeScript 1.1
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Breaking Changes" class="dropdown-title"><span class="title">Breaking Changes</span> <span class="arrow down"></span></button> <button type="button" aria-label="Breaking Changes" class="mobile-dropdown-title"><span class="title">Breaking Changes</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-3.6.html" class="nav-link">
  TypeScript 3.6
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-3.5.html" class="nav-link">
  TypeScript 3.5
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-3.4.html" class="nav-link">
  TypeScript 3.4
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-3.2.html" class="nav-link">
  TypeScript 3.2
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-3.1.html" class="nav-link">
  TypeScript 3.1
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-3.0.html" class="nav-link">
  TypeScript 3.0
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-2.9.html" class="nav-link">
  TypeScript 2.9
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-2.8.html" class="nav-link">
  TypeScript 2.8
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-2.7.html" class="nav-link">
  TypeScript 2.7
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-2.6.html" class="nav-link">
  TypeScript 2.6
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-2.4.html" class="nav-link">
  TypeScript 2.4
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-2.3.html" class="nav-link">
  TypeScript 2.3
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-2.2.html" class="nav-link">
  TypeScript 2.2
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-2.1.html" class="nav-link">
  TypeScript 2.1
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-2.0.html" class="nav-link">
  TypeScript 2.0
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-1.8.html" class="nav-link">
  TypeScript 1.8
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-1.7.html" class="nav-link">
  TypeScript 1.7
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-1.6.html" class="nav-link">
  TypeScript 1.6
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-1.5.html" class="nav-link">
  TypeScript 1.5
</a></li><li class="dropdown-item"><!----> <a href="/typescript/breaking-changes/typescript-1.4.html" class="nav-link">
  TypeScript 1.4
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它" class="dropdown-title"><span class="title">其它</span> <span class="arrow down"></span></button> <button type="button" aria-label="其它" class="mobile-dropdown-title"><span class="title">其它</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://www.typescriptlang.org/docs/home.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TypeScript手册（英文版）
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TypeScript语言规范
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/typescript/" aria-current="page" class="sidebar-link">TypeScript</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/typescript/tutorials" class="sidebar-heading clickable"><span>快速上手</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group depth-0"><a href="/typescript/handbook" class="sidebar-heading clickable"><span>手册</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/typescript/handbook/basic-types.html" class="sidebar-link">基础类型</a></li><li><a href="/typescript/handbook/variable-declarations.html" class="sidebar-link">变量声明</a></li><li><a href="/typescript/handbook/interfaces.html" class="sidebar-link">接口</a></li><li><a href="/typescript/handbook/classes.html" class="sidebar-link">类</a></li><li><a href="/typescript/handbook/functions.html" class="sidebar-link">函数</a></li><li><a href="/typescript/handbook/literal-types.html" class="sidebar-link">字面量类型</a></li><li><a href="/typescript/handbook/generics.html" class="sidebar-link">泛型</a></li><li><a href="/typescript/handbook/enums.html" class="sidebar-link">枚举</a></li><li><a href="/typescript/handbook/type-inference.html" class="sidebar-link">类型推论</a></li><li><a href="/typescript/handbook/type-compatibility.html" class="sidebar-link">类型兼容性</a></li><li><a href="/typescript/handbook/advanced-types.html" class="sidebar-link">高级类型</a></li><li><a href="/typescript/handbook/symbols.html" class="sidebar-link">Symbols</a></li><li><a href="/typescript/handbook/iterators-and-generators.html" class="sidebar-link">Iterators 和 Generators</a></li><li><a href="/typescript/handbook/modules.html" class="sidebar-link">模块</a></li><li><a href="/typescript/handbook/namespaces.html" class="sidebar-link">命名空间</a></li><li><a href="/typescript/handbook/namespaces-and-modules.html" class="sidebar-link">命名空间和模块</a></li><li><a href="/typescript/handbook/module-resolution.html" class="sidebar-link">模块解析</a></li><li><a href="/typescript/handbook/declaration-merging.html" class="sidebar-link">声明合并</a></li><li><a href="/typescript/handbook/jsx.html" class="sidebar-link">JSX</a></li><li><a href="/typescript/handbook/decorators.html" class="sidebar-link">Decorators</a></li><li><a href="/typescript/handbook/mixins.html" class="sidebar-link">混入</a></li><li><a href="/typescript/handbook/triple-slash-directives.html" class="sidebar-link">三斜线指令</a></li><li><a href="/typescript/handbook/type-checking-javascript-files.html" class="sidebar-link">JavaScript文件里的类型检查</a></li><li><a href="/typescript/handbook/utility-types.html" class="sidebar-link">实用工具类型</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/typescript/introduction" class="sidebar-heading clickable"><span>声明文件</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/typescript/tsconfig.json" class="sidebar-heading clickable"><span>工程配置</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/typescript/wiki" class="sidebar-heading clickable"><span>wiki</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="typescript-3-0"><a href="#typescript-3-0" class="header-anchor">#</a> TypeScript 3.0</h1> <h2 id="工程引用"><a href="#工程引用" class="header-anchor">#</a> 工程引用</h2> <p>TypeScript 3.0 引入了一个叫做工程引用的新概念。工程引用允许TypeScript工程依赖于其它TypeScript工程 - 特别要提的是允许<code>tsconfig.json</code>文件引用其它<code>tsconfig.json</code>文件。当指明了这些依赖后，就可以方便地将代码分割成单独的小工程，有助于TypeScript（以及周边的工具）了解构建顺序和输出结构。</p> <p>TypeScript 3.0 还引入了一种新的<code>tsc</code>模式，即<code>--build</code>标记，它与工程引用同时运用可以加速构建TypeScript。</p> <p>相关详情请阅读<a href="/typescript/tsconfig.json/project-references.html">工程引用手册</a>。</p> <h2 id="剩余参数和展开表达式里的元组"><a href="#剩余参数和展开表达式里的元组" class="header-anchor">#</a> 剩余参数和展开表达式里的元组</h2> <p>TypeScript 3.0 增加了支持以元组类型与函数参数列表进行交互的能力。 如下：</p> <ul><li><a href="/typescript/release-notes/typescript-3.0.html#rest-parameters-with-tuple-types">将带有元组类型的剩余参数扩展为离散参数</a></li> <li><a href="/typescript/release-notes/typescript-3.0.html#spread-expressions-with-tuple-types">将带有元组类型的展开表达式扩展为离散参数</a></li> <li><a href="/typescript/release-notes/typescript-3.0.html#generic-rest-parameters">泛型剩余参数以及相应的元组类型推断</a></li> <li><a href="/typescript/release-notes/typescript-3.0.html#optional-elements-in-tuple-types">元组类型里的可选元素</a></li> <li><a href="/typescript/release-notes/typescript-3.0.html#rest-elements-in-tuple-types">元组类型里的剩余元素</a></li></ul> <p>有了这些特性后，便有可能将转换函数和它们参数列表的高阶函数变为强类型的。</p> <h3 id="带元组类型的剩余参数"><a href="#带元组类型的剩余参数" class="header-anchor">#</a> 带元组类型的剩余参数</h3> <p>当剩余参数里有元组类型时，元组类型被扩展为离散参数序列。 例如，如下两个声明是等价的：</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>args_0<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> args_1<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> args_2<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="带有元组类型的展开表达式"><a href="#带有元组类型的展开表达式" class="header-anchor">#</a> 带有元组类型的展开表达式</h3> <p>在函数调用中，若最后一个参数是元组类型的展开表达式，那么这个展开表达式相当于元组元素类型的离散参数序列。</p> <p>因此，下面的调用都是等价的：</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> args<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">42</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> args<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="泛型剩余参数"><a href="#泛型剩余参数" class="header-anchor">#</a> 泛型剩余参数</h3> <p>剩余参数允许带有泛型类型，这个泛型类型被限制为是一个数组类型，类型推断系统能够推断这类泛型剩余参数里的元组类型。这样就可以进行高阶捕获和展开部分参数列表:</p> <h4 id="例子"><a href="#例子" class="header-anchor">#</a> 例子</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">bind</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">V</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token function-variable function">f</span><span class="token operator">:</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">V</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">V</span><span class="token punctuation">;</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">f3</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> f2 <span class="token operator">=</span> <span class="token function">bind</span><span class="token punctuation">(</span>f3<span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// (y: string, z: boolean) =&gt; void</span>
<span class="token keyword">const</span> f1 <span class="token operator">=</span> <span class="token function">bind</span><span class="token punctuation">(</span>f2<span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// (z: boolean) =&gt; void</span>
<span class="token keyword">const</span> f0 <span class="token operator">=</span> <span class="token function">bind</span><span class="token punctuation">(</span>f1<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// () =&gt; void</span>

<span class="token function">f3</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">f2</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">f1</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">f0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上例的<code>f2</code>声明，类型推断可以推断出<code>number</code>，<code>[string, boolean]</code>和<code>void</code>做为<code>T</code>，<code>U</code>和<code>V</code>。</p> <p>注意，如果元组类型是从参数序列中推断出来的，之后又扩展成参数列表，就像<code>U</code>那样，原来的参数名称会被用在扩展中（然而，这个名字没有语义上的意义且是察觉不到的）。</p> <h3 id="元组类型里的可选元素"><a href="#元组类型里的可选元素" class="header-anchor">#</a> 元组类型里的可选元素</h3> <p>元组类型现在允许在其元素类型上使用<code>?</code>后缀，表示这个元素是可选的：</p> <h4 id="例子-2"><a href="#例子-2" class="header-anchor">#</a> 例子</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> t<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">?</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
t <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">42</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
t <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">42</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
t <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">42</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>在<code>--strictNullChecks</code>模式下，<code>?</code>修饰符会自动地在元素类型中包含<code>undefined</code>，类似于可选参数。</p> <p>在元组类型的一个元素类型上使用<code>?</code>后缀修饰符来把它标记为可忽略的元素，且它右侧所有元素也同时带有了<code>?</code>修饰符。</p> <p>当剩余参数推断为元组类型时，源码中的可选参数在推断出的类型里成为了可选元组元素。</p> <p>带有可选元素的元组类型的<code>length</code>属性是表示可能长度的数字字面量类型的联合类型。 例如，<code>[number, string?, boolean?]</code>元组类型的<code>length</code>属性的类型是<code>1 | 2 | 3</code>。</p> <h3 id="元组类型里的剩余元素"><a href="#元组类型里的剩余元素" class="header-anchor">#</a> 元组类型里的剩余元素</h3> <p>元组类型里最后一个元素可以是剩余元素，形式为<code>...X</code>，这里<code>X</code>是数组类型。 剩余元素代表元组类型是开放的，可以有零个或多个额外的元素。 例如，<code>[number, ...string[]]</code>表示带有一个<code>number</code>元素和任意数量<code>string</code>类型元素的元组类型。</p> <h4 id="例子-3"><a href="#例子-3" class="header-anchor">#</a> 例子</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">tuple</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> args<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> numbers<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">getArrayOfNumbers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> t1 <span class="token operator">=</span> <span class="token function">tuple</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [string, number, boolean]</span>
<span class="token keyword">const</span> t2 <span class="token operator">=</span> <span class="token function">tuple</span><span class="token punctuation">(</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> <span class="token operator">...</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [string, ...number[]]</span>
</code></pre></div><p>这个带有剩余元素的元组类型的<code>length</code>属性类型是<code>number</code>。</p> <h2 id="新的unknown类型"><a href="#新的unknown类型" class="header-anchor">#</a> 新的<code>unknown</code>类型</h2> <p>TypeScript 3.0引入了一个顶级的<code>unknown</code>类型。 对照于<code>any</code>，<code>unknown</code>是类型安全的。 任何值都可以赋给<code>unknown</code>，但是当没有类型断言或基于控制流的类型细化时<code>unknown</code>不可以赋值给其它类型，除了它自己和<code>any</code>外。 同样地，在<code>unknown</code>没有被断言或细化到一个确切类型之前，是不允许在其上进行任何操作的。</p> <h3 id="例子-4"><a href="#例子-4" class="header-anchor">#</a> 例子</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// In an intersection everything absorbs unknown</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T00</span></span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">&amp;</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  <span class="token comment">// null</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T01</span></span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">&amp;</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>  <span class="token comment">// undefined</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T02</span></span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">&amp;</span> <span class="token keyword">null</span> <span class="token operator">&amp;</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>  <span class="token comment">// null &amp; undefined (which becomes never)</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T03</span></span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">&amp;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token comment">// string</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T04</span></span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">&amp;</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// string[]</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T05</span></span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">&amp;</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>  <span class="token comment">// unknown</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T06</span></span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">&amp;</span> <span class="token builtin">any</span><span class="token punctuation">;</span>  <span class="token comment">// any</span>

<span class="token comment">// In a union an unknown absorbs everything</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T10</span></span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  <span class="token comment">// unknown</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T11</span></span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>  <span class="token comment">// unknown</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T12</span></span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>  <span class="token comment">// unknown</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T13</span></span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token comment">// unknown</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T14</span></span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// unknown</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T15</span></span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">|</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>  <span class="token comment">// unknown</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T16</span></span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">|</span> <span class="token builtin">any</span><span class="token punctuation">;</span>  <span class="token comment">// any</span>

<span class="token comment">// Type variable and unknown in union and intersection</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T20</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">// T &amp; {}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T21</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token operator">|</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">// T | {}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T22</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token operator">&amp;</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>  <span class="token comment">// T</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T23</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token operator">|</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>  <span class="token comment">// unknown</span>

<span class="token comment">// unknown in conditional types</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T30</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">T</span></span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token comment">// Deferred</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T31</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">unknown</span></span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token comment">// Deferred (so it distributes)</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T32</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token builtin">never</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">T</span></span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T33</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">never</span></span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token comment">// Deferred</span>

<span class="token comment">// keyof unknown</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T40</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token builtin">any</span><span class="token punctuation">;</span>  <span class="token comment">// string | number | symbol</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T41</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>  <span class="token comment">// never</span>

<span class="token comment">// Only equality operators are allowed with unknown</span>

<span class="token keyword">function</span> <span class="token function">f10</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    x <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">;</span>
    x <span class="token operator">!==</span> <span class="token number">10</span><span class="token punctuation">;</span>
    x <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">// Error</span>
    x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// Error</span>
    x <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token comment">// Error</span>
    <span class="token operator">-</span>x<span class="token punctuation">;</span>  <span class="token comment">// Error</span>
    <span class="token operator">+</span>x<span class="token punctuation">;</span>  <span class="token comment">// Error</span>
<span class="token punctuation">}</span>

<span class="token comment">// No property accesses, element accesses, or function calls</span>

<span class="token keyword">function</span> <span class="token function">f11</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">.</span>foo<span class="token punctuation">;</span>  <span class="token comment">// Error</span>
    x<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// Error</span>
    <span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Error</span>
    <span class="token keyword">new</span> <span class="token class-name">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Error</span>
<span class="token punctuation">}</span>

<span class="token comment">// typeof, instanceof, and user defined type predicates</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">isFunction</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span><span class="token operator">:</span> x <span class="token keyword">is</span> <span class="token builtin">Function</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">f20</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        x<span class="token punctuation">;</span>  <span class="token comment">// string | number</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token keyword">instanceof</span> <span class="token class-name">Error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        x<span class="token punctuation">;</span>  <span class="token comment">// Error</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFunction</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        x<span class="token punctuation">;</span>  <span class="token comment">// Function</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Homomorphic mapped type over unknown</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T50</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T51</span></span> <span class="token operator">=</span> <span class="token constant">T50</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// { [x: string]: number }</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T52</span></span> <span class="token operator">=</span> <span class="token constant">T50</span><span class="token operator">&lt;</span><span class="token builtin">unknown</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// {}</span>

<span class="token comment">// Anything is assignable to unknown</span>

<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">f21</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>pAny<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> pNever<span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">,</span> pT<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>
    x <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
    x <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
    x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    x <span class="token operator">=</span> x<span class="token punctuation">;</span>
    x <span class="token operator">=</span> pAny<span class="token punctuation">;</span>
    x <span class="token operator">=</span> pNever<span class="token punctuation">;</span>
    x <span class="token operator">=</span> pT<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// unknown assignable only to itself and any</span>

<span class="token keyword">function</span> <span class="token function">f22</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> v1<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token keyword">let</span> v2<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token keyword">let</span> v3<span class="token operator">:</span> object <span class="token operator">=</span> x<span class="token punctuation">;</span>  <span class="token comment">// Error</span>
    <span class="token keyword">let</span> v4<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>  <span class="token comment">// Error</span>
    <span class="token keyword">let</span> v5<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>  <span class="token comment">// Error</span>
    <span class="token keyword">let</span> v6<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>  <span class="token comment">// Error</span>
    <span class="token keyword">let</span> v7<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>  <span class="token comment">// Error</span>
<span class="token punctuation">}</span>

<span class="token comment">// Type parameter 'T extends unknown' not related to object</span>

<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">f23</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">unknown</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> y<span class="token operator">:</span> object <span class="token operator">=</span> x<span class="token punctuation">;</span>  <span class="token comment">// Error</span>
<span class="token punctuation">}</span>

<span class="token comment">// Anything but primitive assignable to { [x: string]: unknown }</span>

<span class="token keyword">function</span> <span class="token function">f24</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>x<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    x <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    x <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    x <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>  <span class="token comment">// Error</span>
<span class="token punctuation">}</span>

<span class="token comment">// Locals of type unknown always considered initialized</span>

<span class="token keyword">function</span> <span class="token function">f25</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> y <span class="token operator">=</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Spread of unknown causes result to be unknown</span>

<span class="token keyword">function</span> <span class="token function">f26</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> o1 <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token operator">...</span>x <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">// { a: number }</span>
    <span class="token keyword">let</span> o2 <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token operator">...</span>x<span class="token punctuation">,</span> <span class="token operator">...</span>y <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">// unknown</span>
    <span class="token keyword">let</span> o3 <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token operator">...</span>x<span class="token punctuation">,</span> <span class="token operator">...</span>y<span class="token punctuation">,</span> <span class="token operator">...</span>z <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">// any</span>
<span class="token punctuation">}</span>

<span class="token comment">// Functions with unknown return type don't need return expressions</span>

<span class="token keyword">function</span> <span class="token function">f27</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token comment">// Rest type cannot be created from unknown</span>

<span class="token keyword">function</span> <span class="token function">f28</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token operator">...</span>a <span class="token punctuation">}</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>  <span class="token comment">// Error</span>
<span class="token punctuation">}</span>

<span class="token comment">// Class properties of type unknown don't need definite assignment</span>

<span class="token keyword">class</span> <span class="token class-name"><span class="token constant">C1</span></span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token comment">// Error</span>
    b<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>
    c<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="在jsx里支持defaultprops"><a href="#在jsx里支持defaultprops" class="header-anchor">#</a> 在JSX里支持<code>defaultProps</code></h2> <p>TypeScript 2.9和之前的版本不支持在JSX组件里使用<a href="https://reactjs.org/docs/typechecking-with-proptypes.html#default-prop-values" target="_blank" rel="noopener noreferrer">React的<code>defaultProps</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>声明。 用户通常不得不将属性声明为可选的，然后在<code>render</code>里使用非<code>null</code>的断言，或者在导出之前对组件的类型使用类型断言。</p> <p>TypeScript 3.0在<code>JSX</code>命名空间里支持一个新的类型别名<code>LibraryManagedAttributes</code>。 这个助手类型定义了在检查JSX表达式之前在组件<code>Props</code>上的一个类型转换；因此我们可以进行定制：如何处理提供的<code>props</code>与推断<code>props</code>之间的冲突，推断如何映射，如何处理可选性以及不同位置的推断如何结合在一起。</p> <p>我们可以利用它来处理React的<code>defaultProps</code>以及<code>propTypes</code>。</p> <div class="language-text extra-class"><pre class="language-text"><code>export interface Props {
    name: string;
}

export class Greet extends React.Component&lt;Props&gt; {
    render() {
        const { name } = this.props;
        return &lt;div&gt;Hello {name.toUpperCase()}!&lt;/div&gt;;
    }
    static defaultProps = { name: &quot;world&quot;};
}

// Type-checks! No type assertions needed!
let el = &lt;Greet /&gt;
</code></pre></div><h3 id="说明"><a href="#说明" class="header-anchor">#</a> 说明</h3> <h4 id="defaultprops的确切类型"><a href="#defaultprops的确切类型" class="header-anchor">#</a> <code>defaultProps</code>的确切类型</h4> <p>默认类型是从<code>defaultProps</code>属性的类型推断而来。如果添加了显式的类型注释，比如<code>static defaultProps: Partial&lt;Props&gt;;</code>，编译器无法识别哪个属性具有默认值（因为<code>defaultProps</code>类型包含了<code>Props</code>的所有属性）。</p> <p>使用<code>static defaultProps: Pick&lt;Props, &quot;name&quot;&gt;;</code>做为显式的类型注释，或者不添加类型注释。</p> <p>对于函数组件（之前叫做SFC），使用ES2015默认的初始化器：</p> <div class="language-text extra-class"><pre class="language-text"><code>function Greet({ name = &quot;world&quot; }: Props) {
    return &lt;div&gt;Hello {name.toUpperCase()}!&lt;/div&gt;;
}
</code></pre></div><h4 id="types-react的改动"><a href="#types-react的改动" class="header-anchor">#</a> <code>@types/React</code>的改动</h4> <p>仍需要在<code>@types/React</code>里<code>JSX</code>命名空间上添加<code>LibraryManagedAttributes</code>定义。</p> <h2 id="reference-lib-指令"><a href="#reference-lib-指令" class="header-anchor">#</a> <code>/// &lt;reference lib=&quot;...&quot; /&gt;</code>指令</h2> <p>TypeScript增加了一个新的三斜线指令（<code>/// &lt;reference lib=&quot;name&quot; /&gt;</code>），允许一个文件显式地包含一个已知的内置_lib_文件。</p> <p>内置的_lib_文件的引用和_tsconfig.json_里的编译器选项<code>&quot;lib&quot;</code>相同（例如，使用<code>lib=&quot;es2015&quot;</code>而不是<code>lib=&quot;lib.es2015.d.ts&quot;</code>等）。</p> <p>当你写的声明文件依赖于内置类型时，例如DOM APIs或内置的JS运行时构造函数如<code>Symbol</code>或<code>Iterable</code>，推荐使用三斜线引用指令。之前，这个<code>.d.ts</code>文件不得不添加重覆的类型声明。</p> <h3 id="例子-5"><a href="#例子-5" class="header-anchor">#</a> 例子</h3> <p>在某个文件里使用 <code>/// &lt;reference lib=&quot;es2017.string&quot; /&gt;</code>等同于指定<code>--lib es2017.string</code>编译选项。</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/// &lt;reference lib=&quot;es2017.string&quot; /&gt;</span>

<span class="token string">&quot;foo&quot;</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/10/2020, 1:30:41 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/typescript/assets/js/app.0e06d88a.js" defer></script><script src="/typescript/assets/js/2.2c62d7e6.js" defer></script><script src="/typescript/assets/js/103.71daab4d.js" defer></script>
  </body>
</html>
